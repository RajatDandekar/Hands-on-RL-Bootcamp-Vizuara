How to get Indexing to work:

# Move the extracted folder to the local /tmp directory
mv ./data/elasticsearch-8.17.3 /tmp/

# Create a dedicated non-root user to run the service
useradd -m -s /bin/bash esuser

# Change ownership of the folder in its new location
chown -R esuser:esuser /tmp/elasticsearch-8.17.3


# Start the server in the background
su -s /bin/bash -c "/tmp/elasticsearch-8.17.3/bin/elasticsearch" esuser &

# Run the interactive password reset tool as the 'esuser'
su -s /bin/bash -c "/tmp/elasticsearch-8.17.3/bin/elasticsearch-reset-password -u elastic -i" esuser


# Uninstall any existing newer versions first
pip uninstall -y elasticsearch

# Install a version compatible with ES 8.x and other libraries
pip install "elasticsearch<9.0.0" pandas pyarrow tqdm

Changes to code es_wiki.py

def create_es_client() -> Elasticsearch:
    """
    Initialize Elasticsearch client with credentials for a local instance.
    """
    # Path to the CA certificate generated by Elasticsearch in the /tmp directory
    ca_cert_path = '/tmp/elasticsearch-8.17.3/config/certs/http_ca.crt'
    
    # --- IMPORTANT ---
    # Use the password you set in Step 4 of the Elasticsearch setup.
    es_password = 'changeme123' # <-- PUT YOUR NEW PASSWORD HERE

    if es_password == 'YOUR_PASSWORD_HERE':
        raise ValueError("Please replace 'YOUR_PASSWORD_HERE' with the real Elasticsearch password.")

    return Elasticsearch(
        "https://localhost:9200",
        basic_auth=("elastic", es_password),
        ca_certs=ca_cert_path
    )
